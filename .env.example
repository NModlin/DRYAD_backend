# GremlinsAI Backend - Environment Configuration Template
# Copy this file to .env and customize for your deployment

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Installation tier: minimal, standard, full, development
INSTALL_TIER=standard

# Environment: development, staging, production
ENVIRONMENT=development

# Logging level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS Configuration - REQUIRED FOR PRODUCTION
# Comma-separated list of allowed origins (no spaces around commas)
# Example: CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
# For development, leave empty to use secure localhost defaults
CORS_ALLOWED_ORIGINS=

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================

# LLM Provider: llamacpp (default for self-contained AI), openai, ollama, huggingface, mock
# IMPORTANT: Default is local LlamaCpp for self-contained AI operation
# External providers (openai, ollama) are only used when explicitly configured
LLM_PROVIDER=llamacpp

# Local LlamaCpp Configuration (Default - Self-Contained AI)
# Automatically downloads lightweight models for CPU inference
LLAMACPP_MODEL=tinyllama-1.1b-chat-v1.0.Q4_K_M.gguf
LLAMACPP_MODEL_PATH=./models/
# Alternative models: llama-2-7b-chat.Q4_K_M.gguf (larger, better quality)

# OpenAI Configuration (Optional - requires API key)
# Get your API key from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=your-openai-api-key-here
# OPENAI_MODEL=gpt-3.5-turbo
# Alternative models: gpt-4, gpt-4-turbo-preview, gpt-3.5-turbo-16k

# Ollama Configuration - Hybrid Cloud/Local Support
# Install Ollama: https://ollama.ai/
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2:3b

# Ollama Cloud Configuration (Optional - for enhanced capabilities)
OLLAMA_CLOUD_URL=https://ollama.com
OLLAMA_CLOUD_ENABLED=true
OLLAMA_CLOUD_FIRST=true
# OLLAMA_API_KEY=your_api_key_here  # Get from ollama.com after signing up

# Cloud Models (Ollama Cloud)
# OLLAMA_CLOUD_MODEL_REASONING=gpt-oss:20b
# OLLAMA_CLOUD_MODEL_COMPLEX_REASONING=gpt-oss:120b
# OLLAMA_CLOUD_MODEL_THINKING=deepseek-v3.1
# OLLAMA_CLOUD_MODEL_CODING=qwen3-coder:30b
# OLLAMA_CLOUD_MODEL_COMPLEX_CODING=qwen3-coder:480b
# OLLAMA_CLOUD_MODEL_CODING_AGENT=kimi-k2

# Local Models (Local Ollama)
# OLLAMA_LOCAL_MODEL_GENERAL=llama3.2:3b
# OLLAMA_LOCAL_MODEL_SIMPLE=llama3.2:1b
# OLLAMA_LOCAL_MODEL_CODING=codellama:7b

# Hugging Face Configuration (Optional - requires heavy dependencies)
# HF_MODEL=microsoft/DialoGPT-medium
# USE_HUGGINGFACE=false

# LLM General Settings
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=2048
LLM_TIMEOUT=30

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite (default for minimal/development)
DATABASE_URL=sqlite:///./data/gremlinsai.db

# Note: GremlinsAI uses SQLite for structured data and Weaviate for vector storage
# This hybrid approach provides optimal performance for AI applications

# =============================================================================
# VECTOR DATABASE CONFIGURATION
# =============================================================================

# Weaviate Configuration (required for standard/full)
# Note: Weaviate runs on port 8081 to avoid conflict with backend server (port 8000)
WEAVIATE_URL=http://localhost:8081
WEAVIATE_API_KEY=
WEAVIATE_TIMEOUT_SECONDS=10
WEAVIATE_MAX_RETRIES=3
WEAVIATE_CLASS_NAME=GremlinsDocument
EMBEDDING_MODEL=all-MiniLM-L6-v2
USE_CLIP=true

# =============================================================================
# TASK QUEUE CONFIGURATION
# =============================================================================

# Redis Configuration (required for standard/full)
# Generate secure password: python -c "import secrets; print(secrets.token_urlsafe(32))"
REDIS_PASSWORD=redis-secure-password-change-in-production
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@localhost:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@localhost:6379/0
REDIS_URL=redis://:${REDIS_PASSWORD}@localhost:6379

# Weaviate Configuration (required for standard/full)
# Generate secure API key: python -c "import secrets; print(secrets.token_urlsafe(32))"
WEAVIATE_API_KEY=weaviate-secure-key-change-in-production
WEAVIATE_URL=http://localhost:8080

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Secret Key - REQUIRED FOR PRODUCTION AND STAGING
# Generate a secure key with: python -c "import secrets; print(secrets.token_urlsafe(48))"
# CRITICAL: This key MUST be set for production/staging environments
# The application will fail to start if this is missing in production
# For development, leave empty (temporary key will be generated with warning)
JWT_SECRET_KEY=

# JWT Configuration - Enhanced Security
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=1  # Reduced from 24 to 1 hour for security
REFRESH_TOKEN_EXPIRATION_DAYS=7  # Reduced from 30 to 7 days

# OAuth2 Configuration (Google) - SECURE THESE VALUES
# Get credentials from: https://console.developers.google.com/
# NEVER commit real values to version control
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# =============================================================================
# MULTIMODAL CONFIGURATION (Full installation only)
# =============================================================================

# Audio Processing
WHISPER_MODEL=base
TTS_VOICE=alloy

# Video Processing
FFMPEG_PATH=/usr/bin/ffmpeg

# Image Processing
CLIP_MODEL=ViT-B/32

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features based on available services
ENABLE_VECTOR_SEARCH=true
ENABLE_MULTI_AGENT=true
ENABLE_MULTIMODAL=false
ENABLE_TASK_QUEUE=true
ENABLE_GRAPHQL=true

# =============================================================================
# EXTERNAL SERVICE URLS
# =============================================================================

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# API Base URL
API_BASE_URL=http://localhost:8000
