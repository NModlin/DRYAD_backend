# ============================================================================
# GremlinsAI Backend - Production Environment Configuration Template
# Copy this file to .env.production and fill in the values
# ============================================================================

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=info

# ============================================================================
# APPLICATION
# ============================================================================
APP_NAME=GremlinsAI
APP_VERSION=1.0.0
API_V1_PREFIX=/api/v1

# ============================================================================
# SERVER
# ============================================================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=false

# ============================================================================
# DATABASE
# ============================================================================
# SQLite (default)
DATABASE_URL=sqlite:///./data/gremlinsai.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/gremlinsai

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================================================
# SECURITY
# ============================================================================
# JWT Configuration (REQUIRED - Generate secure keys!)
JWT_SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_AT_LEAST_32_CHARACTERS
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Settings
CORS_ORIGINS=["https://your-domain.com","https://www.your-domain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE","PATCH"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# AI/LLM CONFIGURATION
# ============================================================================
# Local LLM (llama-cpp-python)
USE_LOCAL_LLM=true
LLM_PROVIDER=llamacpp
LLM_MODEL_PATH=models/tinyllama-1.1b-chat-v1.0.Q4_K_M.gguf
LLM_CONTEXT_LENGTH=2048
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=512
LLM_N_THREADS=8
LLM_N_GPU_LAYERS=0

# OpenAI (optional fallback)
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2048

# ============================================================================
# MULTI-AGENT SYSTEM
# ============================================================================
ENABLE_MULTI_AGENT=true
AGENT_TIMEOUT=300
AGENT_MAX_RETRIES=3

# ============================================================================
# SELF-HEALING SYSTEM
# ============================================================================
ENABLE_SELF_HEALING=true
GUARDIAN_ENABLED=true
GUARDIAN_CHECK_INTERVAL=10
WORKER_CHECK_INTERVAL=10
WORKER_MAX_CONCURRENT_TASKS=3
SELF_HEALING_AUTO_APPROVE=false

# ============================================================================
# PERFORMANCE OPTIMIZATION
# ============================================================================
ENABLE_PERFORMANCE_OPTIMIZATION=true
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Redis (optional - for caching and task queue)
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=false

# Weaviate (optional - for vector search)
WEAVIATE_URL=http://localhost:8080
WEAVIATE_ENABLED=false

# ============================================================================
# INTEGRATIONS
# ============================================================================
# Microsoft Teams
TEAMS_WEBHOOK_URL=https://your-org.webhook.office.com/webhookb2/your-webhook-id
TEAMS_ENABLED=true

# Slack (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_ENABLED=false

# Email (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@your-domain.com
EMAIL_ENABLED=false

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
# Logging
LOG_FORMAT=json
LOG_FILE=logs/gremlinsai.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# Metrics
METRICS_ENABLED=true
PROMETHEUS_PORT=9090

# Sentry (optional - error tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENABLED=false
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================================
# STORAGE
# ============================================================================
# File Storage
UPLOAD_DIR=data/uploads
MAX_UPLOAD_SIZE=104857600
ALLOWED_EXTENSIONS=["pdf","txt","doc","docx","png","jpg","jpeg"]

# Backup
BACKUP_DIR=backups
BACKUP_RETENTION_DAYS=30
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *

# ============================================================================
# FEATURES FLAGS
# ============================================================================
FEATURE_GRAPHQL=true
FEATURE_WEBSOCKET=true
FEATURE_MCP_SERVER=true
FEATURE_MULTIMODAL=true
FEATURE_RAG=true

# ============================================================================
# SECURITY HEADERS
# ============================================================================
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
CSP_DEFAULT_SRC=self
CSP_SCRIPT_SRC=self unsafe-inline unsafe-eval
CSP_STYLE_SRC=self unsafe-inline

# ============================================================================
# SSL/TLS
# ============================================================================
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem
SSL_ENABLED=true

# ============================================================================
# DEPLOYMENT
# ============================================================================
DEPLOYMENT_ENV=production
DEPLOYMENT_VERSION=1.0.0
DEPLOYMENT_DATE=2025-10-02

# ============================================================================
# HEALTH CHECKS
# ============================================================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit this file with real secrets to version control
# 2. Use environment-specific files (.env.production, .env.staging)
# 3. Store secrets in secure vault (AWS Secrets Manager, HashiCorp Vault, etc.)
# 4. Rotate secrets regularly (every 90 days minimum)
# 5. Use strong, randomly generated passwords and keys
# 6. Enable all security features in production
# 7. Monitor logs and metrics regularly
# 8. Keep this template updated with new configuration options

